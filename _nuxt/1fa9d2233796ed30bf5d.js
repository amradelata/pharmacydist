(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{165:function(t,e,r){var content=r(168);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(21).default)("64bd2a0f",content,!0,{sourceMap:!1})},166:function(t,e,r){t.exports=r.p+"img/9a7e047.png"},167:function(t,e,r){"use strict";var o=r(165);r.n(o).a},168:function(t,e,r){(e=r(20)(!1)).push([t.i,".myinput{margin-top:15px}.searchbtn{display:block;margin:10px auto}.cartQty{position:absolute;height:17px;width:17px;border-radius:50%;text-align:center;line-height:17px;font-size:12px;top:8px;right:5px;background:#ff424e;color:#fff}.cartnav:hover~.mycart{display:inline-block}.mycart{box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);transition:all .3s cubic-bezier(.25,.8,.25,1);padding:20px;position:absolute;z-index:99999;background:#fff;top:60px;left:60px;display:none;direction:ltr}.mycart:hover{display:inline-block}.navbar-burger{margin-right:auto;margin-left:0}#navbarphone,.navbar{padding-right:35px;padding-left:35px;background:#fff}",""]),t.exports=e},169:function(t,e,r){"use strict";var o={data:function(){return{searchVale:"",mylocalStorageCard:[],mylocalStorageQty:0,mylocalStorageTolalPrice:0}},methods:{togelmenu:function(){this.$refs.phonemenu.classList.toggle("navbar-menu")},searchRout:function(){this.$router.push("/search?test="+this.searchVale)}},mounted:function(){this.mylocalStorageCard=JSON.parse(localStorage.getItem("cart")),this.mylocalStorageTolalPrice=localStorage.getItem("totalprice"),this.mylocalStorageQty=localStorage.getItem("qty")}},n=(r(167),r(13)),component=Object(n.a)(o,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"is-fluid"},[o("nav",{staticClass:"navbar",attrs:{role:"navigation","aria-label":"main navigation"}},[o("div",{staticClass:"navbar-brand"},[o("nuxt-link",{staticClass:"navbar-item",attrs:{to:"/"}},[o("div",{staticClass:"is-size-3"},[t._v("صيدلية")])]),t._v(" "),o("a",{staticClass:"navbar-burger burger",attrs:{role:"button","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},on:{click:t.togelmenu}},[o("span",{attrs:{"aria-hidden":"true"}}),t._v(" "),o("span",{attrs:{"aria-hidden":"true"}}),t._v(" "),o("span",{attrs:{"aria-hidden":"true"}})])],1),t._v(" "),o("div",{staticClass:"navbar-menu",attrs:{id:"navbarBasicExample"}},[o("div",{staticClass:"navbar-start"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.searchVale,expression:"searchVale"}],staticClass:"input myinput",attrs:{type:"text",placeholder:"search"},domProps:{value:t.searchVale},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchRout(e)},input:function(e){e.target.composing||(t.searchVale=e.target.value)}}}),t._v(" "),o("nuxt-link",{staticClass:"navbar-item",attrs:{to:"/"}},[o("img",{staticClass:"menuImg",attrs:{src:r(77)}}),t._v("\n          الرئيسية\n        ")]),t._v(" "),o("nuxt-link",{staticClass:"navbar-item",attrs:{to:"/userCustomer"}},[o("img",{staticClass:"menuImg",attrs:{src:r(78)}}),t._v("\n          الحساب\n        ")]),t._v(" "),o("nuxt-link",{staticClass:"navbar-item cartnav",attrs:{to:"/cart"}},[o("img",{staticClass:"menuImg",attrs:{src:r(166)}}),t._v(" "),0!=this.mylocalStorageQty?o("span",{staticClass:"cartQty"},[t._v(t._s(this.mylocalStorageQty))]):t._e(),t._v(" سلة المشتريات\n        ")]),t._v(" "),o("div",{staticClass:"mycart"},[null!=this.mylocalStorageCard?o("ul",{ref:"carts",staticClass:"carts"},[o("p",{staticClass:"is-size-3"},[t._v("cart item/s "+t._s(this.mylocalStorageQty))]),t._v(" "),t._l(t.mylocalStorageCard,(function(e){return o("li",{key:e.id,staticClass:"cart"},[o("div",[o("p",{staticClass:"is-size-6"},[t._v(t._s(" name : "+e.tradename))]),t._v(" "),o("p",{staticClass:"is-size-6 has-text-success"},[t._v(t._s("price : "+e.price+" EGP"))]),t._v("\n                "+t._s("qty : "+e.quantity)+"\n              ")])])})),t._v(" "),o("p",{staticClass:"is-size-3 has-text-success"},[t._v(t._s(" Total price : "+this.mylocalStorageTolalPrice+" EGP"))]),t._v(" "),o("nuxt-link",{attrs:{to:"/checkout"}},[o("button",{staticClass:"button"},[t._v("Check Out")])]),t._v(" "),o("nuxt-link",{attrs:{to:"/cart"}},[o("button",{staticClass:"button"},[t._v("Cart")])])],2):t._e()]),t._v(" "),o("nuxt-link",{staticClass:"navbar-item",attrs:{to:"/logoutcustumer"}},[o("img",{staticClass:"menuImg",attrs:{src:r(79)}}),t._v("\n          تسجيل الخروج\n        ")])],1)])]),t._v(" "),o("div",{ref:"phonemenu",staticClass:"navbar-menu",attrs:{id:"navbarphone"}},[o("div",{staticClass:"navbar-start"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.searchVale,expression:"searchVale"}],staticClass:"input",attrs:{type:"text",placeholder:"search"},domProps:{value:t.searchVale},on:{input:function(e){e.target.composing||(t.searchVale=e.target.value)}}}),t._v(" "),o("button",{staticClass:"searchbtn button",on:{click:function(e){return t.searchRout()}}},[t._v("search")]),t._v(" "),o("nuxt-link",{staticClass:"navbar-item",attrs:{to:"/"}},[o("img",{staticClass:"menuImg",attrs:{src:r(77)}}),t._v("\n        الرئيسية\n      ")]),t._v(" "),o("nuxt-link",{staticClass:"navbar-item",attrs:{to:"/userCustomer"}},[o("img",{staticClass:"menuImg",attrs:{src:r(78)}}),t._v("\n        الحساب\n      ")]),t._v(" "),o("nuxt-link",{staticClass:"navbar-item",attrs:{to:"/cart"}},[o("img",{staticClass:"menuImg",attrs:{src:r(166)}}),t._v(" "),o("span",{staticClass:"cartQty"},[t._v(t._s(this.mylocalStorageQty))]),t._v(" سلة المشتريات\n      ")]),t._v(" "),o("nuxt-link",{staticClass:"navbar-item",attrs:{to:"/logoutcustumer"}},[o("img",{staticClass:"menuImg",attrs:{src:r(79)}}),t._v("\n        تسجيل الخروج\n      ")])],1)])])}),[],!1,null,null,null);e.a=component.exports},175:function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));var o=r(64);var n=r(84);function c(t){return function(t){if(Array.isArray(t))return Object(o.a)(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(n.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},176:function(t,e,r){"use strict";var o=r(6),n=r(177)(5),c=!0;"find"in[]&&Array(1).find((function(){c=!1})),o(o.P+o.F*c,"Array",{find:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),r(83)("find")},177:function(t,e,r){var o=r(22),n=r(82),c=r(23),l=r(17),d=r(178);t.exports=function(t,e){var r=1==t,m=2==t,v=3==t,h=4==t,f=6==t,y=5==t||f,_=e||d;return function(e,d,C){for(var x,S,k=c(e),w=n(k),L=o(d,C,3),P=l(w.length),I=0,T=r?_(e,P):m?_(e,0):void 0;P>I;I++)if((y||I in w)&&(S=L(x=w[I],I,k),t))if(r)T[I]=S;else if(S)switch(t){case 3:return!0;case 5:return x;case 6:return I;case 2:T.push(x)}else if(h)return!1;return f?-1:v||h?h:T}}},178:function(t,e,r){var o=r(179);t.exports=function(t,e){return new(o(t))(e)}},179:function(t,e,r){var o=r(9),n=r(112),c=r(2)("species");t.exports=function(t){var e;return n(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!n(e.prototype)||(e=void 0),o(e)&&null===(e=e[c])&&(e=void 0)),void 0===e?Array:e}},185:function(t,e,r){var content=r(247);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(21).default)("530ad754",content,!0,{sourceMap:!1})},246:function(t,e,r){"use strict";var o=r(185);r.n(o).a},247:function(t,e,r){(e=r(20)(!1)).push([t.i,".summry[data-v-2fa97a06]{position:absolute;top:0;bottom:0;left:0;right:0;background:#22282f;z-index:999999;display:none}.searchdrug[data-v-2fa97a06]{margin-bottom:50px}.ltr[data-v-2fa97a06]{direction:ltr}.child[data-v-2fa97a06]{position:relative;margin:100px 0;padding:20px 100px 20px 20px;cursor:pointer}.mttext[data-v-2fa97a06]{padding:20px;z-index:9999999;background:#fff;border-radius:5px}.near[data-v-2fa97a06]{margin:50px 0}.name[data-v-2fa97a06],.price[data-v-2fa97a06]{display:inline-block}.price[data-v-2fa97a06]{margin-left:100px}.child:hover .mybuttons[data-v-2fa97a06]{right:20px;z-index:50;opacity:1;transition:opacity .2s}.child:hover .mttext[data-v-2fa97a06]{box-shadow:0 0 38px rgba(117,117,115,.3),0 0 0 rgba(220,235,14,.22)}.mybuttons[data-v-2fa97a06]{position:absolute;top:20px;right:200px;opacity:0;z-index:-1}.addbutton[data-v-2fa97a06]{border-radius:50%;width:60px;height:60px;margin:10px 0}.carts[data-v-2fa97a06]{background:#21304f;color:#f0f8ff;padding:35px;margin-bottom:100px}.cart[data-v-2fa97a06]{box-shadow:0 0 38px rgba(117,117,115,.3),0 0 0 rgba(220,235,14,.22);padding:20px;background:#22282f}.cart[data-v-2fa97a06],.cartbuttons[data-v-2fa97a06]{margin:20px 0}.buybtnphone[data-v-2fa97a06]{display:none}.flatshipping[data-v-2fa97a06]{margin-bottom:10px}@media screen and (max-width:768px){.customer[data-v-2fa97a06]{overflow-x:hidden}.child[data-v-2fa97a06]{padding:0;text-align:center}.price[data-v-2fa97a06]{margin-left:0}.mybuttons[data-v-2fa97a06]{display:none}.buybtnphone[data-v-2fa97a06]{display:block;text-align:center;width:100%;margin-top:10px}}",""]),t.exports=e},302:function(t,e,r){"use strict";r.r(e);r(176);var o=r(175),n=(r(62),r(63),r(113),r(29),r(4)),c=r(169),l=r(174),d=r.n(l),m=r(170),v=r.n(m),h={components:{customerNave:c.a},data:function(){return{restCart:[],drugs:[],search:"",mylocalStorageCard:[],mylocalStorageQty:0,mylocalStorageTolalPrice:0,flatShippingCredit:10,pharmsylocation:[{Latitude:"30.039358",Longitude:"31.233043",name:"egypt"},{Latitude:"26.817136",Longitude:"36.571405",name:"ksa"},{Latitude:"33.334333",Longitude:"10.035706",name:"tunisia"},{Latitude:"-8.383071",Longitude:" -56.775322",name:"parasiel"},{Latitude:"29.328459",Longitude:" 30.888652",name:"elfyom"},{Latitude:"29.325537",Longitude:" 30.854909",name:"myplace"}],userLatitude:localStorage.getItem("Latitude"),userLongitude:localStorage.getItem("Longitude"),username:localStorage.getItem("userfirstName"),userpassword:localStorage.getItem("userpassword")}},created:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://pharmacy-databeas.herokuapp.com/drugs");case 2:r=e.sent,t.drugs=r.data,t.drugs=t.drugs.slice(0,25);case 5:case"end":return e.stop()}}),e)})))()},computed:{myresolts:function(){var t=this;if(this.search)return this.drugs.filter((function(e){return e.tradename.toLowerCase().includes(t.search.toLowerCase())}));console.log("not heare")}},mounted:function(){this.mylocalStorageCard=JSON.parse(localStorage.getItem("cart")),this.mylocalStorageTolalPrice=localStorage.getItem("totalprice"),this.mylocalStorageQty=localStorage.getItem("qty")},methods:{getyourLocation:function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(this.showPosition):console.log("Geolocation is not supported by this browser.")},showPosition:function(t){localStorage.setItem("Latitude",t.coords.latitude),localStorage.setItem("Longitude",t.coords.longitude)},getDistanceFromLatLonInKm:function(t){var e=this.deg2rad(t.Latitude-this.userLatitude),r=this.deg2rad(t.Longitude-this.userLongitude),a=Math.sin(e/2)*Math.sin(e/2)+Math.cos(this.deg2rad(this.userLatitude))*Math.cos(this.deg2rad(t.Latitude))*Math.sin(r/2)*Math.sin(r/2);return 6371*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)))},deg2rad:function(t){return t*(Math.PI/180)},runGetDistance:function(){var t=this.pharmsylocation.map(this.getDistanceFromLatLonInKm),e=Math.min.apply(Math,Object(o.a)(t));console.log(e)},add:function(i){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,o,n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://pharmacy-databeas.herokuapp.com/drugs/?id=".concat(i));case 2:r=e.sent,null===t.mylocalStorageCard||0===t.mylocalStorageCard.length?(t.mylocalStorageCard=[],r.data[0].quantity=1,t.mylocalStorageCard.push(r.data[0]),t.mylocalStorageTolalPrice=+t.mylocalStorageTolalPrice+ +r.data[0].price,t.mylocalStorageQty++,t.savelocalstorage(i)):null!=t.mylocalStorageCard&&t.mylocalStorageCard.length>0&&(o=localStorage.getItem("cart"),n=JSON.parse(o),console.log(n),null!=(c=t.mylocalStorageCard.find((function(t){return t.id===r.data[0].id})))?(c.quantity++,t.mylocalStorageQty++,t.mylocalStorageTolalPrice=+t.mylocalStorageTolalPrice+ +c.price,t.savelocalstorage()):(r.data[0].quantity=1,n.push(r.data[0]),t.mylocalStorageCard=n,t.mylocalStorageTolalPrice=+t.mylocalStorageTolalPrice+ +r.data[0].price,t.mylocalStorageQty++,t.savelocalstorage(i)));case 4:case"end":return e.stop()}}),e)})))()},addtoquantty:function(i){var t=this.mylocalStorageCard.find((function(t){return t.id===i}));console.log(this.mylocalStorageTolalPrice),t.quantity++,this.mylocalStorageQty++,this.mylocalStorageTolalPrice=+this.mylocalStorageTolalPrice+ +t.price,this.savelocalstorage()},removefromquantty:function(i,t){var e=this.mylocalStorageCard.find((function(t){return t.id===i}));e.quantity--,this.mylocalStorageQty--,this.mylocalStorageTolalPrice=+this.mylocalStorageTolalPrice-e.price,0===e.quantity&&this.mylocalStorageCard.splice(t,1),this.savelocalstorage()},mydelete:function(i,t){var e=this.mylocalStorageCard.find((function(t){return t.id===i}));this.mylocalStorageCard.splice(t,1),this.mylocalStorageTolalPrice=+this.mylocalStorageTolalPrice+-e.price*e.quantity,this.mylocalStorageQty=+this.mylocalStorageQty-e.quantity,this.savelocalstorage()},savelocalstorage:function(){localStorage.setItem("totalprice",this.mylocalStorageTolalPrice),localStorage.setItem("qty",this.mylocalStorageQty);var t=JSON.stringify(this.mylocalStorageCard);localStorage.setItem("cart",t)},Confirm:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://pharmacy-databeas.herokuapp.com/User-purchases",(r=[]).push(t.mylocalStorageCard,t.mylocalStorageTolalPrice=+t.mylocalStorageTolalPrice+ +t.flatShippingCredit,"cart qty - "+t.mylocalStorageQty,"name - "+t.username,"userLongitude - "+t.userLongitude,"userLatitude - "+t.userLatitude),e.next=5,v.a.post("https://pharmacy-databeas.herokuapp.com/User-purchases",r);case 5:e.sent;case 6:case"end":return e.stop()}}),e)})))()},shownotfcation:function(){d.a.fire({title:"تم الطلب بنجاح",text:"توقع ان يتم التوصيل فى نصف ساعة "})},resetcart:function(){localStorage.setItem("totalprice",0),localStorage.setItem("qty",0);var t=JSON.stringify(this.restCart);localStorage.setItem("cart",t),window.location.reload(),this.$refs.carts.style.display="none"}}},f=(r(246),r(13)),component=Object(f.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"customer",staticClass:"customer"},[r("div",{ref:"summry",staticClass:"summry"}),t._v(" "),r("customerNave"),t._v(" "),t._m(0),t._v(" "),r("div",{staticClass:"ltr"},[r("button",{staticClass:"button mysearchptn near",on:{click:function(e){t.getyourLocation(),t.runGetDistance()}}},[t._v("اقرب صيدلية")]),t._v(" "),r("div",{staticClass:"field has-addons searchdrug"},[r("div",{staticClass:"control",staticStyle:{width:"100%"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"input",attrs:{type:"text",placeholder:"ابحث عن الدواء"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),t._v(" "),t._m(1)]),t._v(" "),null!=this.mylocalStorageCard?r("ul",{ref:"carts",staticClass:"carts"},[r("p",{staticClass:"is-size-3"},[t._v("cart item/s "+t._s(this.mylocalStorageQty))]),t._v(" "),t._l(t.mylocalStorageCard,(function(e,o){return r("li",{key:e.id,staticClass:"cart"},[r("div",[r("p",{staticClass:"is-size-6"},[t._v(t._s(" name : "+e.tradename))]),t._v(" "),r("p",{staticClass:"is-size-6 has-text-success"},[t._v(t._s("price : "+e.price+" EGP"))]),t._v("\n          "+t._s("qty : "+e.quantity)+"\n          "),r("div",{staticClass:"cartbuttons"},[r("button",{staticClass:"cartbutton button is-success",on:{click:function(r){return t.mydelete(t.i=e.id,o)}}},[t._v("delete")]),t._v(" "),r("button",{staticClass:"cartbutton button is-success",on:{click:function(r){return t.addtoquantty(t.i=e.id)}}},[t._v("+")]),t._v(" "),e.quantity?r("button",{staticClass:"cartbutton button is-success",on:{click:function(r){return t.removefromquantty(t.i=e.id,o)}}},[t._v("-")]):t._e()])])])})),t._v(" "),r("p",{staticClass:"is-size-3 has-text-success"},[t._v(t._s(" Total price : "+this.mylocalStorageTolalPrice+" EGP"))]),t._v(" "),r("div",{staticClass:"is-size-5 flatshipping"},[t._v("Flat Shipping Credit 10 EGP")]),t._v(" "),r("button",{staticClass:"button",on:{click:function(e){t.Confirm(),t.shownotfcation(),t.resetcart()}}},[t._v("تاكيد الشراء")])],2):t._e(),t._v(" "),t._l(t.drugs,(function(e){return r("div",{key:e.id,staticClass:"dad"},[r("div",{staticClass:"child"},[r("div",{staticClass:"mttext"},[r("p",{staticClass:"is-size-2 name"},[t._v(t._s(e.tradename))]),t._v(" "),r("p",{staticClass:"is-size-5 price has-text-success"},[t._v(t._s("price : "+e.price+" EGP"))]),t._v(" "),r("p",{staticClass:"is-size-6 color has-text-info"},[t._v(t._s(e.company))]),t._v(" "),r("p",{staticClass:"is-size-5"},[t._v(t._s(e.pamphlet))]),t._v(" "),r("div",{staticClass:"mybuttons"},[r("button",{staticClass:"addbutton button is-success",on:{click:function(r){return t.add(t.i=e.id)}}},[t._v("Buy")])]),t._v(" "),r("button",{staticClass:"buybtnphone button is-success",on:{click:function(r){return t.add(t.i=e.id)}}},[t._v("Buy")])])])])}))],2)],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"map"},[e("iframe",{staticStyle:{border:"0"},attrs:{src:"https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d13913.965682582799!2d30.86137795!3d29.326590599999996!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sen!2seg!4v1580298588986!5m2!1sen!2seg",width:"100%",height:"100%",frameborder:"0",allowfullscreen:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"control"},[e("a",{staticClass:"button mysearchptn"},[this._v("بحث")])])}],!1,null,"2fa97a06",null);e.default=component.exports}}]);