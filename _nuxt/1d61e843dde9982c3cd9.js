(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{165:function(t,e,r){var content=r(171);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(21).default)("64bd2a0f",content,!0,{sourceMap:!1})},170:function(t,e,r){"use strict";var n=r(165);r.n(n).a},171:function(t,e,r){(e=r(20)(!1)).push([t.i,".navbar-burger{margin-right:auto;margin-left:0}.container.is-fluid{padding:0}#navbarphone,.navbar{padding-right:35px;padding-left:35px;background:#fff}",""]),t.exports=e},172:function(t,e,r){"use strict";var n={methods:{togelmenu:function(){this.$refs.phonemenu.classList.toggle("navbar-menu")}}},o=(r(170),r(13)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container is-fluid"},[n("nav",{staticClass:"navbar",attrs:{role:"navigation","aria-label":"main navigation"}},[n("div",{staticClass:"navbar-brand"},[n("nuxt-link",{staticClass:"navbar-item",attrs:{to:"/"}},[n("div",{staticClass:"is-size-3"},[t._v("صيدلية")])]),t._v(" "),n("a",{staticClass:"navbar-burger burger",attrs:{role:"button","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},on:{click:t.togelmenu}},[n("span",{attrs:{"aria-hidden":"true"}}),t._v(" "),n("span",{attrs:{"aria-hidden":"true"}}),t._v(" "),n("span",{attrs:{"aria-hidden":"true"}})])],1),t._v(" "),n("div",{staticClass:"navbar-menu",attrs:{id:"navbarBasicExample"}},[n("div",{staticClass:"navbar-start"},[n("nuxt-link",{staticClass:"navbar-item",attrs:{to:"/"}},[n("img",{staticClass:"menuImg",attrs:{src:r(78)}}),t._v("\n          الرئيسية\n        ")]),t._v(" "),n("nuxt-link",{staticClass:"navbar-item",attrs:{to:"/userCustomer"}},[n("img",{staticClass:"menuImg",attrs:{src:r(79)}}),t._v("\n          الحساب\n        ")]),t._v(" "),n("nuxt-link",{staticClass:"navbar-item",attrs:{to:"/logOut"}},[n("img",{staticClass:"menuImg",attrs:{src:r(80)}}),t._v("\n          تسجيل الخروج\n        ")])],1)])]),t._v(" "),n("div",{ref:"phonemenu",staticClass:"navbar-menu",attrs:{id:"navbarphone"}},[n("div",{staticClass:"navbar-start"},[n("nuxt-link",{staticClass:"navbar-item",attrs:{to:"/"}},[n("img",{staticClass:"menuImg",attrs:{src:r(78)}}),t._v("\n        الرئيسية\n      ")]),t._v(" "),n("nuxt-link",{staticClass:"navbar-item",attrs:{to:"/userCustomer"}},[n("img",{staticClass:"menuImg",attrs:{src:r(79)}}),t._v("\n        الحساب\n      ")]),t._v(" "),n("nuxt-link",{staticClass:"navbar-item",attrs:{to:"/logOut"}},[n("img",{staticClass:"menuImg",attrs:{src:r(80)}}),t._v("\n        تسجيل الخروج\n      ")])],1)])])}),[],!1,null,null,null);e.a=component.exports},176:function(t,e,r){var content=r(236);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(21).default)("f1dc5e64",content,!0,{sourceMap:!1})},235:function(t,e,r){"use strict";var n=r(176);r.n(n).a},236:function(t,e,r){(e=r(20)(!1)).push([t.i,".searchdrug[data-v-cad317e4]{margin-bottom:50px}.ltr[data-v-cad317e4]{direction:ltr}.child[data-v-cad317e4]{position:relative;margin:100px 0;padding:20px 100px 20px 20px;cursor:pointer}.mttext[data-v-cad317e4]{padding:20px;z-index:9999999;background:#fff;border-radius:5px}.near[data-v-cad317e4]{margin:50px 0}.name[data-v-cad317e4],.price[data-v-cad317e4]{display:inline-block}.price[data-v-cad317e4]{margin-left:100px}.child:hover .mybuttons[data-v-cad317e4]{right:20px;z-index:50;opacity:1;transition:opacity .2s}.child:hover .mttext[data-v-cad317e4]{box-shadow:0 0 38px rgba(117,117,115,.3),0 0 0 rgba(220,235,14,.22)}.mybuttons[data-v-cad317e4]{position:absolute;top:20px;right:200px;opacity:0;z-index:-1}.addbutton[data-v-cad317e4]{border-radius:50%;width:60px;height:60px;margin:10px 0}.carts[data-v-cad317e4]{background:#21304f;color:#f0f8ff;padding:35px;margin-bottom:100px}.cart[data-v-cad317e4]{box-shadow:0 0 38px rgba(117,117,115,.3),0 0 0 rgba(220,235,14,.22);padding:20px;background:#22282f}.cart[data-v-cad317e4],.cartbuttons[data-v-cad317e4]{margin:20px 0}.buybtnphone[data-v-cad317e4]{display:none}@media screen and (max-width:768px){.customer[data-v-cad317e4]{overflow-x:hidden}.child[data-v-cad317e4]{padding:0;text-align:center}.price[data-v-cad317e4]{margin-left:0}.mybuttons[data-v-cad317e4]{display:none}.buybtnphone[data-v-cad317e4]{display:block;text-align:center;width:100%;margin-top:10px}}",""]),t.exports=e},281:function(t,e,r){"use strict";r.r(e);r(214);var n=r(277),o=(r(62),r(63),r(113),r(29),r(5)),c=r(172),l=r(218),d=r.n(l),m=r(168),v=r.n(m),h={components:{customerNave:c.a},data:function(){return{drugs:[],search:"",mylocalStorageCard:[],mylocalStorageQty:0,mylocalStorageTolalPrice:0,pharmsylocation:[{Latitude:"30.039358",Longitude:"31.233043",name:"egypt"},{Latitude:"26.817136",Longitude:"36.571405",name:"ksa"},{Latitude:"33.334333",Longitude:"10.035706",name:"tunisia"},{Latitude:"-8.383071",Longitude:" -56.775322",name:"parasiel"},{Latitude:"29.328459",Longitude:" 30.888652",name:"elfyom"},{Latitude:"29.325537",Longitude:" 30.854909",name:"myplace"}],userLatitude:localStorage.getItem("Latitude: "),userLongitude:localStorage.getItem("Longitude: ")}},created:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://pharmacy-databeas.herokuapp.com/drugs");case 2:r=e.sent,t.drugs=r.data,t.drugs=t.drugs.slice(0,25);case 5:case"end":return e.stop()}}),e)})))()},computed:{myresolts:function(){var t=this;if(this.search)return this.drugs.filter((function(e){return e.tradename.toLowerCase().includes(t.search.toLowerCase())}));console.log("not heare")}},mounted:function(){this.mylocalStorageCard=JSON.parse(localStorage.getItem("cart")),this.mylocalStorageTolalPrice=localStorage.getItem("totalprice"),this.mylocalStorageQty=localStorage.getItem("qty")},methods:{shownotfcation:function(){d.a.fire({title:"تم الطلب بنجاح",text:"توقع ان يتم التوصيل فى نصف ساعة "})},getyourLocation:function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(this.showPosition):console.log("Geolocation is not supported by this browser.")},showPosition:function(t){localStorage.setItem("Latitude",t.coords.latitude),localStorage.setItem("Longitude",t.coords.longitude)},getDistanceFromLatLonInKm:function(t){var e=this.deg2rad(t.Latitude-this.userLatitude),r=this.deg2rad(t.Longitude-this.userLongitude),a=Math.sin(e/2)*Math.sin(e/2)+Math.cos(this.deg2rad(this.userLatitude))*Math.cos(this.deg2rad(t.Latitude))*Math.sin(r/2)*Math.sin(r/2);return 6371*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)))},deg2rad:function(t){return t*(Math.PI/180)},runGetDistance:function(){var t=this.pharmsylocation.map(this.getDistanceFromLatLonInKm),e=Math.min.apply(Math,Object(n.a)(t));console.log(e)},savelogecstander:function(){localStorage.setItem("totalprice",this.mylocalStorageTolalPrice),localStorage.setItem("qty",this.mylocalStorageQty);var t=JSON.stringify(this.mylocalStorageCard);localStorage.setItem("cart",t)},Confirm:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://pharmacy-databeas.herokuapp.com/User-purchases",(r=[]).push(t.mylocalStorageCard,t.mylocalStorageTolalPrice,t.mylocalStorageQty),e.next=5,v.a.post("https://pharmacy-databeas.herokuapp.com/User-purchases",r);case 5:e.sent;case 6:case"end":return e.stop()}}),e)})))()},add:function(i){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://pharmacy-databeas.herokuapp.com/drugs/?id=".concat(i));case 2:r=e.sent,null===t.mylocalStorageCard||0===t.mylocalStorageCard.length?(t.mylocalStorageCard=[],r.data[0].quantity=1,t.mylocalStorageCard.push(r.data[0]),t.mylocalStorageTolalPrice=+t.mylocalStorageTolalPrice+ +r.data[0].price,t.mylocalStorageQty++,t.savelogecstander(i)):null!=t.mylocalStorageCard&&t.mylocalStorageCard.length>0&&(n=localStorage.getItem("cart"),o=JSON.parse(n),null!=(c=t.mylocalStorageCard.find((function(t){return t.id===r.data[0].id})))?(c.quantity++,t.mylocalStorageQty++,t.mylocalStorageTolalPrice=+t.mylocalStorageTolalPrice+ +c.price,t.savelogecstander()):(r.data[0].quantity=1,o.push(r.data[0]),t.mylocalStorageCard=o,t.mylocalStorageTolalPrice=+t.mylocalStorageTolalPrice+ +r.data[0].price,t.mylocalStorageQty++,t.savelogecstander(i)));case 4:case"end":return e.stop()}}),e)})))()},addtoquantty:function(i){var t=this.mylocalStorageCard.find((function(t){return t.id===i}));console.log(this.mylocalStorageTolalPrice),t.quantity++,this.mylocalStorageQty++,this.mylocalStorageTolalPrice=+this.mylocalStorageTolalPrice+ +t.price,this.savelogecstander()},removefromquantty:function(i,t){var e=this.mylocalStorageCard.find((function(t){return t.id===i}));e.quantity--,this.mylocalStorageQty--,this.mylocalStorageTolalPrice=+this.mylocalStorageTolalPrice-e.price,0===e.quantity&&this.mylocalStorageCard.splice(t,1),this.savelogecstander()},mydelete:function(i,t){var e=this.mylocalStorageCard.find((function(t){return t.id===i}));this.mylocalStorageCard.splice(t,1),this.mylocalStorageTolalPrice=+this.mylocalStorageTolalPrice+-e.price*e.quantity,this.mylocalStorageQty=+this.mylocalStorageQty-e.quantity,this.savelogecstander()}}},y=(r(235),r(13)),component=Object(y.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"customer"},[r("customerNave"),t._v(" "),t._m(0),t._v(" "),r("div",{staticClass:"container ltr"},[r("button",{staticClass:"button mysearchptn near",on:{click:function(e){t.getyourLocation(),t.runGetDistance()}}},[t._v("اقرب صيدلية")]),t._v(" "),r("div",{staticClass:"field has-addons searchdrug"},[r("div",{staticClass:"control",staticStyle:{width:"100%"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"input",attrs:{type:"text",placeholder:"ابحث عن الدواء"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),t._v(" "),t._m(1)]),t._v(" "),null!=this.mylocalStorageCard?r("ul",{staticClass:"carts"},[r("p",{staticClass:"is-size-3"},[t._v("cart item/s "+t._s(this.mylocalStorageQty))]),t._v(" "),t._l(t.mylocalStorageCard,(function(e,n){return r("li",{key:e.id,staticClass:"cart"},[r("div",[r("p",{staticClass:"is-size-6"},[t._v(t._s(" name : "+e.tradename))]),t._v(" "),r("p",{staticClass:"is-size-6 has-text-success"},[t._v(t._s("price : "+e.price+" EGP"))]),t._v("\n          "+t._s("qty : "+e.quantity)+"\n          "),r("div",{staticClass:"cartbuttons"},[r("button",{staticClass:"cartbutton button is-success",on:{click:function(r){return t.mydelete(t.i=e.id,n)}}},[t._v("delete")]),t._v(" "),r("button",{staticClass:"cartbutton button is-success",on:{click:function(r){return t.addtoquantty(t.i=e.id)}}},[t._v("+")]),t._v(" "),e.quantity?r("button",{staticClass:"cartbutton button is-success",on:{click:function(r){return t.removefromquantty(t.i=e.id,n)}}},[t._v("-")]):t._e()])])])})),t._v(" "),r("p",{staticClass:"is-size-3 has-text-success"},[t._v(t._s(" Total price : "+this.mylocalStorageTolalPrice+" EGP"))]),t._v(" "),r("button",{staticClass:"button",on:{click:function(e){return t.Confirm()}}},[t._v("تاكيد الشراء")])],2):t._e(),t._v(" "),t._l(t.myresolts,(function(e){return r("div",{key:e.id,staticClass:"dad"},[r("div",{staticClass:"child"},[r("div",{staticClass:"mttext"},[r("p",{staticClass:"is-size-2 name"},[t._v(t._s(e.tradename))]),t._v(" "),r("p",{staticClass:"is-size-5 price has-text-success"},[t._v(t._s("price : "+e.price+" EGP"))]),t._v(" "),r("p",{staticClass:"is-size-6 color has-text-info"},[t._v(t._s(e.company))]),t._v(" "),r("p",{staticClass:"is-size-5"},[t._v(t._s(e.pamphlet))]),t._v(" "),r("div",{staticClass:"mybuttons"},[r("button",{staticClass:"addbutton button is-success",on:{click:function(r){t.add(t.i=e.id),t.shownotfcation()}}},[t._v("Buy")])]),t._v(" "),r("button",{staticClass:"buybtnphone button is-success",on:{click:function(r){t.add(t.i=e.id),t.shownotfcation()}}},[t._v("Buy")])])])])}))],2)],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"map"},[e("iframe",{staticStyle:{border:"0"},attrs:{src:"https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d13913.965682582799!2d30.86137795!3d29.326590599999996!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sen!2seg!4v1580298588986!5m2!1sen!2seg",width:"100%",height:"100%",frameborder:"0",allowfullscreen:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"control"},[e("a",{staticClass:"button mysearchptn"},[this._v("بحث")])])}],!1,null,"cad317e4",null);e.default=component.exports}}]);